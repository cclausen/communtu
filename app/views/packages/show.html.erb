
<div class="inner0">
<span class="headline">  <%= @package.icon(35)%>
  <%= @package.name %>
</span><br>
<small>sofort installieren (ggf. über Synpatic untenstehende Quelle hinzufügen)</small>
<%= link_to image_tag("/images/install.png", :size => "22x22", :border => 0, :title => "installieren", :alt => "installieren"), "apt://"+@package.name%>		

  <p>
<table>
	<tr><td>
  <b>Programm:</b>
  <%=if @package.is_program then "ja" else "nein" end %>
   </td>
<% if !@package.stars.nil? %>
     <td><b>Beliebtheit:</b></td> 	
     <td><%= number_with_precision(@package.stars, 1) %>/5 Sterne&nbsp;&nbsp; </td>
     <td nowrap class='star-rating' style='width:<%= (@package.stars * 18).to_i %>px; '></td>
<% end %>
</tr>
<tr>
  <td>
  <b>Section:</b>
  <%=h @package.fullsection %>
 </td>
</tr></table>
</p>


<% if not @package.urls.nil? then %>
<p>
  <b>Weblinks:</b>
  <%=auto_link @package.urls.gsub(/ /,'<br>'), link = :all, :target => '_blank' %>
</p>
<p>
<% end %>

<p>
  <table border=1, style="border-style:solid; border-width:1px; border-collapse:collapse", cellpadding=3 >
  <tr><th>Distribution</th> <th>Repository</th> <th>Paket-Version</th></tr>
  <% for pd in @package.package_distrs%>
    <tr><td><%= link_to(pd.distribution.name, distribution_path(pd.distribution)) %>
	         </td>
		<td><%= link_to(pd.repository.url, repository_path(pd.repository)) %>
		     </td>
		<td><%= pd.version %></td>	 
    </tr>
  <% end %>
  </table>	
</p>

<% if not @package.videos.empty? then %>
  <p>
  <b>Videos:</b><br />
  <ul>
  <%for v in @package.videos %>
    <li><%=auto_link v.url.gsub(/ /,'<br>'), link = :all, :target => '_blank' %>
<br />
    <%= v.description%></li>
  <% end %>
  </ul></p>
<% end %>

<p>
  <b>Beschreibung:</b><br />
  <%= @package.description %>
</p>

<p>
  <b>Beinhaltet folgende Pakete:</b>
  <% depshash = @package.dependencies_intersection %>
  <% common = depshash.delete(:all)%>
  <%= render(:partial => 'package', :collection => common) %>
  <% if !(depsarr=depshash.select {|rep,deps| !deps.empty?}).empty? %>	
    <ul>
    <% depsarr.each do |rd| %>
      <% rep = rd[0] %>
	  <% deps = rd[1] %>
        <li>
          Nur für <%= link_to(rep.distribution.name, distribution_path(rep.distribution)) %>
	              <%= link_to(rep.url, repository_path(rep)) %> :
          <br />
	      <%= render(:partial => 'package', :collection => deps) %>
	    </li>
    <% end %>
	</ul>
  <% end %>
</p>

<% if !@package.metapackages.empty? then%>
  <p>
  <b>Wird bei Communtu in folgenden Bündeln benutzt:</b><br />
  <% @package.metapackages.each do |m| %>
     <%= link_to  m.name, { :controller => :metapackages, :action => :show,\
	  				:id => m.id } %>
	  &nbsp;&nbsp;				
  <% end %>
  </p>
<% end %>
<%= link_to'Kommentieren', { :controller => :packages, :action => :add_comment, \
	    :id => @package.id } %>
<%= show_comments @package.comments %>

</div>
<%= link_to 'Bearbeiten', {:action => 'edit', :id => @package.id} %> &nbsp;&nbsp;

<%= link_to 'Metapaket in Bündel wandeln', {:action => 'convert', :id => @package.id} %> &nbsp;&nbsp;

