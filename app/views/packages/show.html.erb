  <% if logged_in? %>
    <div class="inner0">
<span class="headline">  <%= @package.icon(35)%>
  <%= @package.name %>
</span><br /><br />
<% url1 = "apt://"+@package.name %>
<% url2 = "/users/#{current_user.id}/suggestion/install_package_sources/#{@package.id}" %>
<%= link_to image_tag("/images/install.png", :size => "22x22", :border => "0", :title => t(:view_packages_show_0), :alt => t(:view_packages_show_1)), url1 %>		
<%= link_to t(:view_packages_show_2), url1%>		
&nbsp;&nbsp;&nbsp;&nbsp;
            <%= link_to image_tag("/images/sources.jpg", :size => "22x22", :border => "0", :title => t(:view_packages_show_3), :alt => t(:view_packages_show_4)), url2 %>
<%= link_to(t(:view_packages_show_5), url2) %>
  <p>
<table>
	<tr><td>
  <b>Programm:</b>
  <%=if @package.is_program then t(:view_packages_show_6) else t(:view_packages_show_7) end %>
   </td>
<% if !@package.stars.nil? %>
     <td><b><%=t(:view_packages_show_8)%></b></td> 	
     <td><%= number_with_precision(@package.stars, 1) %><%=t(:view_packages_show_9)%></td>
     <td nowrap class='star-rating' style='width:<%= (@package.stars * 18).to_i %>px; '></td>
<% end %>
</tr>
<tr>
  <td>
  <b><%=t(:view_packages_show_10)%></b>
  <%=h @package.fullsection %>
 </td>
</tr></table>
</p>


<% if not @package.urls.nil? and not @package.urls.empty? then %>
<p>
  <b><%=t(:view_packages_show_11)%></b><br />
  <%=auto_link @package.urls.gsub(/ /,'<br>'), link = :all, :target => '_blank' %>
</p>
<p>
<% end %>


<% if not @package.videos.empty? then %>
  <p>
  <b><%=t(:view_packages_show_12)%></b><br />
  <ul>
  <%for v in @package.videos %>
    <li><%=auto_link v.url.gsub(/ /,'<br>'), link = :all, :target => '_blank' %>
<br />
    <%= v.description%></li>
  <% end %>
  </ul></p>
<% end %>

<p>
  <b><%=t(:view_packages_show_13)%></b><br />
  <%= @package.description %>
</p>

<p>
  <table border=1 style="border-style:solid; border-width:1px; border-collapse:collapse" cellpadding=3 >
  <tr><th><%=t(:view_packages_show_14)%></th> <th><%=t(:view_packages_show_15)%></th> <th><%=t(:view_packages_show_16)%></th></tr>
  <% for pd in @package.package_distrs%>
    <tr><td><%= link_to(pd.distribution.name, distribution_path(pd.distribution)) %>
	         </td>
		<td><%= link_to(pd.repository.name, repository_path(pd.repository)) %>
		     </td>
		<td><%= pd.version %></td>	 
    </tr>
  <% end %>
  </table>	
</p>

<p>
  <b><%=t(:view_packages_show_17)%></b><br />
  <%= render(:partial => 'deps', :object => @package.dependencies_intersection {|x| x.depends_or_recommends }) %>
</p>

<% if is_admin? %>
<%= link_to t(:view_packages_show_18), :action => 'rdepends', :id => @package.id %>
<% end %>

<p>
<b><%=t(:view_packages_show_19)%></b><br />
  <%= render(:partial => 'deps', :object => @package.dependencies_intersection {|x| x.conflicts }) %>
</p>

<% if !@package.metapackages.empty? then%>
  <p>
  <b><%=t(:view_packages_show_20)%></b><br />
  <ul>
  <% @package.metapackages.each do |m| %>
  <li>
     <%= link_to  m.name, { :controller => :metapackages, :action => :show,\
	  				:id => m.id } %>
</li>				
  <% end %>
</ul>
  </p>
<% end %>

<% if !@package.used_by.empty? then%>
  <p>
  <b><%=t(:view_packages_show_21)%></b><br />
  <ul>
  <% @package.used_by.each do |p| %>
  <li>
     <%= link_to  p.name, package_path(p) %>
</li>				
  <% end %>
</ul>
  </p>
<% end %>

<p>
<%= image_tag("/images/editp.png", :size => "22x22", :border => 0, :title => t(:view_packages_show_22), :alt => t(:view_packages_show_23)) %>
<%= link_to t(:view_packages_show_24), { :controller => :packages, :action => :add_comment, \
	    :id => @package.id } %>
<%= show_comments @package.comments %>
</p>
</div>
<%= link_to t(:view_packages_show_25), {:action => 'edit', :id => @package.id} %> &nbsp;&nbsp;

<%= link_to t(:view_packages_show_26), {:action => 'convert', :id => @package.id} %> &nbsp;&nbsp;
<% else %>
<div class="inner0">
<p><%=t(:view_packages_show_27)%></p>
</div>
<% end %>
