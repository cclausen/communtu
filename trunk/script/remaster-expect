#TODO: add timeout, dpkg-config?

set timeout -1
match_max 32000
expect {
  # googleearth
  "Do you agree with the Google Earth! EULA terms?" {send y\r ; exp_continue}
  # sun-java6-jre
  "Sind Sie mit den DLJ-Lizenzbestimmungen einverstanden?"  {send j\r ; exp_continue}
  "Do you agree with the DLJ license terms?"  {send y\r ; exp_continue}
  #mysql-server
  "New password for the MySQL \"root\" user:" {send \r ; exp_continue}
  # postfix
  "General type of mail configuration: "  {send 1\r ; exp_continue}
  # acroread
  "Set Adobe Reader as the default PDF Viewer? " {send y\r ; exp_continue}
  # lirc
  "Choose a remote if you would like to preload a configuration:" {send 1\r ; exp_continue}
  # match anything else in order to prevent buffer overflow
  -re "." {exp_continue}
  timeout {exp_continue}
  full_buffer {exp_continue}
 }
# propagate exit status of the spawned command
set ret [wait]
set exit_status [lindex $ret 3]
exit $exit_status